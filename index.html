<!DOCTYPE html>
<html lang="vi">
<head>
<meta charset="UTF-8">
<title>Tra c·ª©u danh m·ª•c</title>

<style>
body {
    font-family: Arial;
    background: #f4f6f8;
    padding: 30px;
}

.container {
    max-width: 900px;
    margin: auto;
    background: white;
    padding: 25px;
    border-radius: 12px;
}

input {
    width: 100%;
    padding: 14px;
    font-size: 18px;
    margin-bottom: 20px;
}

table {
    width: 100%;
    border-collapse: collapse;
}

th {
    background: #0d6efd;
    color: white;
    padding: 10px;
}

td {
    padding: 8px;
    border-bottom: 1px solid #ddd;
}
</style>
</head>

<body>

<div class="container">
    <h2>üîç Tra c·ª©u danh m·ª•c</h2>

    <input
        id="search"
        type="text"
        placeholder="Nh·∫≠p m√£ / t√™n / t·ªânh..."
        onkeyup="searchData()"
    >

    <table>
        <thead>
            <tr>
                <th>M√£</th>
                <th>T√™n</th>
                <th>T·ªânh / Th√†nh ph·ªë</th>
            </tr>
        </thead>
        <tbody id="result"></tbody>
    </table>
</div>

<script>
let data = [];

// ‚ö†Ô∏è ƒê∆Ø·ªúNG D·∫™N PH·∫¢I ƒê√öNG TUY·ªÜT ƒê·ªêI
const files = ["dm1.txt", "dm2.txt", "dm3.txt"];

async function loadFiles() {
    for (let f of files) {
        try {
            const res = await fetch(f);
            const text = await res.text();

            text.split("\n").forEach(line => {
                line = line.trim();
                if (!line) return;

                const c = line.split(/\t+/);
                if (c.length >= 3) {
                    data.push({
                        ma: c[0],
                        ten: c[1],
                        tinh: c[2]
                    });
                }
            });
        } catch (e) {
            console.log("Kh√¥ng load ƒë∆∞·ª£c:", f);
        }
    }
}

function searchData() {
    const key = document.getElementById("search").value.toLowerCase();
    const out = document.getElementById("result");
    out.innerHTML = "";

    if (key === "") return;

    data.forEach(r => {
        if (
            r.ma.toLowerCase().includes(key) ||
            r.ten.toLowerCase().includes(key) ||
            r.tinh.toLowerCase().includes(key)
        ) {
            out.innerHTML += `
                <tr>
                    <td>${r.ma}</td>
                    <td>${r.ten}</td>
                    <td>${r.tinh}</td>
                </tr>
            `;
        }
    });
}

loadFiles();
</script>

</body>
</html>
